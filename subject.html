<html>
    <body>
        
        <!-- for submit button -->
        <script language="javascript" type="text/javascript">
            function myGetItem() {
                var handler = document.getElementsByName("background");
                for(var i=0;i<handler.length;i++) { 
                    if(handler[i].checked) 
                    background = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-1.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_1_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-1.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_1_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-1.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_1_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-1.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_1_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-1.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_1_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-1.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_1_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-1.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_1_3 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-1.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_1_3 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-1.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_1_3 = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-2.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_2_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-2.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_2_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-2.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_2_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-2.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_2_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-2.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_2_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-2.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_2_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-2.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_2_3 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-2.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_2_3 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-2.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_2_3 = handler[i].value; 
                };

                myPostToGoogle();
            };
        </script>
        
        <!-- for google form submit -->
        <script language="javascript" type="text/javascript">
            function myPostToGoogle() {
                $.ajax({
                    beforeSend: function(request) {
                        request.setRequestHeader('Access-Control-Allow-Origin', '*');
                    },
                    url: "https://forms.gle/AgFTBK2xmi3gnMn76"

                        //"https://docs.google.com/forms/d/e/1FAIpQLSdwycjfSrN5IX6ir2CXEQg5HUrmvStIRXFeMAKDehsBSkq4Vg/viewform",
                    data: {
                        "entry.2023411165" : model_1,
                        "entry.2088726427" : vocoder_1,
                        "entry.121760934" : adversial,
                        "entry.384611517" : mos_ori,
                        "entry.1064165071" : mos_melgan,
                    },
                    type: "POST",
                    dataType: "xml",
                    statusCode: {
                        0: function() {
                        },
                        200: function() {  
                        },
                        400: function() {
                        }
                    }
                });
            };
        </script>
        
        <!-- for random -->
        <script>
            function myGetRandom(min, max) {
                var r = Math.floor(Math.random()*(max-min+1))+min;
                return r
            };
            var sampleIndex1 = 0//myGetRandom(0, 49);
            var sampleIndex2 = 0//myGetRandom(50, 99);
            var background = '0';
            var p_1_1 = '0';
            var r_1_1 = '0';
            var c_1_1 = '0';
            var p_1_2 = '0';
            var r_1_2 = '0';
            var c_1_2 = '0';
            var p_1_3 = '0';
            var r_1_3 = '0';
            var c_1_3 = '0';
            var p_2_1 = '0';
            var r_2_1 = '0';
            var c_2_1 = '0';
            var p_2_2 = '0';
            var r_2_2 = '0';
            var c_2_2 = '0';
            var p_2_3 = '0';
            var r_2_3 = '0';
            var c_2_3 = '0';
            console.log('3')
        </script>
        
        <!-- description -->
        <h1>Speech to singing via cycleGAN</h1>
        <p>
            Hi, This is a human evaluation page on speech to singing project.
            Each sample includes one read audio and two singing audios. Our singing audio is generated based on the read. You will be asked to  <i> which audio is more natrual </i> for each sample.
            And everytime you refresh the webpage (or after you press the "submit"), you could get different music samples.
            We would appreciate it if you could help us fill this questionnaire several times. THANKS! <br><br>
        </p> 
        

        <!-- audio contents set 1-->
        <h1 id="header2-1"></h1>
        <script>
            document.getElementById("header2-1").innerHTML = "Speech to Singing sample"; 
        </script>
        
        <div id="audio_content2-1"></div>
        <script>

            var data2 = [
            ['speech2singing/model_architecture/sample2/read.wav', 'speech2singing/model_architecture/sample2/jay.wav', 'speech2singing/model_architecture/sample2/my.wav'],
            ['speech2singing/model_architecture/sample3/read.wav', 'speech2singing/model_architecture/sample3/jay.wav', 'speech2singing/model_architecture/sample3/my.wav']];
            var s = myGetRandom(0, 1);
            var link2_1 = data2[s][0];
            var link2_2 = data2[s][1];
            var link2_3 = data2[s][2];
            document.getElementById("audio_content2-1").innerHTML = '<strong># 1st sample: </strong><br><table><tr> <td style="color:olive;"> Input speech: &emsp; &emsp; </td> <td> <audio controls controlsList="nodownload"><source src="' + link2_1 + '" type="audio/mpeg"></audio> </td> </tr> </td>  <td style="color:olive;"> &emsp; &emsp; &emsp; &emsp; </audio> </td> </tr></table><table><tr> <td style="color:brown;"> <strong> Singing A </strong>: &emsp; &emsp; </td> <td>  <audio controls controlsList="nodownload"><source src="' + link2_2 + '" type="audio/mpeg"></audio> </td> </tr><tr> <td style="color:brown;"> <strong> Singing B </strong>: &emsp; &emsp; </td> <td>  <audio controls controlsList="nodownload"><source src="' + link2_3 + '" type="audio/mpeg"></audio> </td> </tr></table><br> <strong>Which one is better:</strong><form><input type="radio" name="model" value="1"> A &nbsp;&nbsp;&nbsp;<input type="radio" name="model" value="2"> B &nbsp;&nbsp;<input type="radio" name="model" value="3"> equal'
        </script>
         <h1 id="header2-1"></h1>
        
        <script>
            document.getElementById("header2-3")
        </script>
        <div id="audio_content2-3"></div>
        <script>
           var data = [['speech2singing/ad vs mse/sample1/read.wav', 'speech2singing/ad vs mse/sample1/mse.wav', 'speech2singing/ad vs mse/sample1/ad.wav'],
            ['speech2singing/ad vs mse/sample2/read.wav', 'speech2singing/ad vs mse/sample2/mse.wav', 'speech2singing/ad vs mse/sample2/ad.wav'],
            ['speech2singing/ad vs mse/sample3/read.wav', 'speech2singing/ad vs mse/sample3/mse.wav', 'speech2singing/ad vs mse/sample3/ad.wav'],
            ['speech2singing/ad vs mse/sample4/read.wav', 'speech2singing/ad vs mse/sample4/mse.wav', 'speech2singing/ad vs mse/sample4/ad.wav']];
            var ss = myGetRandom(0, 3);
            var link1_1 = data[ss][0];
            var link1_2 = data[ss][1];
            var link1_3 = data[ss][2];
            document.getElementById("audio_content2-3").innerHTML = '<strong># 1st sample</strong><br><table><tr> <td style="color:olive;"> Input speech: &emsp; &emsp; </td> <td> <audio controls controlsList="nodownload"><source src="' + link1_1 + '" type="audio/mpeg"></audio> </td> </tr> </td>  <td style="color:olive;"> &emsp; &emsp; &emsp; &emsp; </audio> </td> </tr></table><table><tr> <td style="color:brown;"> <strong> Singing A </strong>: &emsp; &emsp; </td> <td>  <audio controls controlsList="nodownload"><source src="' + link1_2 + '" type="audio/mpeg"></audio> </td> </tr><tr> <td style="color:brown;"> <strong> Singing B </strong>: &emsp; &emsp; </td> <td>  <audio controls controlsList="nodownload"><source src="' + link1_3 + '" type="audio/mpeg"></audio> </td> </tr></table><br> <strong>Which one is better:</strong><form><input type="radio" name="ad" value="1"> A &nbsp;&nbsp;&nbsp;<input type="radio" name="ad" value="2"> B &nbsp;&nbsp;&nbsp; <input type="radio" name="ad" value="3"> equal'
           
        </script>
        <script>
            document.getElementById("header2-2")
        </script>
        <div id="audio_content2-2"></div>
        <script>
           var data3 = [['speech2singing/vocoder/sample1/griff.wav', 'speech2singing/vocoder/sample1/melgan.wav'],
            ['speech2singing/vocoder/sample2/griff.wav', 'speech2singing/vocoder/sample2/melgan.wav'],
            ['speech2singing/melgan vocoder/sample3/griff.wav', 'speech2singing/vocoder/sample3/melgan.wav'],
            ['speech2singing/vocoder/sample4/griff.wav', 'speech2singing/vocoder/sample4/melgan.wav']];
            
            var sss = myGetRandom(0, 3);
            var link3_2 = data3[sss][0];
            var link3_3 = data3[sss][1];
            document.getElementById("audio_content2-2").innerHTML = '<strong># 1st sample</strong><br><table><tr> </audio> </td> </tr></table><table><tr> <td style="color:brown;"> <strong> Singing A </strong>: &emsp; &emsp; </td> <td>  <audio controls controlsList="nodownload"><source src="' + link3_2 + '" type="audio/mpeg"></audio> </td> </tr><tr> <td style="color:brown;"> <strong> Singing B </strong>: &emsp; &emsp; </td> <td>  <audio controls controlsList="nodownload"><source src="' + link3_3 + '" type="audio/mpeg"></audio> </td> </tr></table><br> <strong>Which one is better:</strong><form><input type="radio" name="vocoder" value="1"> A  &nbsp;&nbsp;&nbsp;<input type="radio" name="vocoder" value="2"> B &nbsp;&nbsp;&nbsp; <input type="radio" name="vocoder" value="3"> equal'

        </script>
        <script>
            document.getElementById("header2-4")
        </script>
        <div id="audio_content2-4"></div>
        <script>
            var data4 = [['speech2singing/melgan vocoder/sample1/ori.wav'],
            ['speech2singing/melgan vocoder/sample2/ori.wav'],
            ['speech2singing/melgan vocoder/sample3/ori.wav'],
            ['speech2singing/melgan vocoder/sample4/ori.wav'],
            ['speech2singing/melgan vocoder/sample5/ori.wav']
            ];
            var ssss = myGetRandom(0, 4);
            var link4_1 = data4[ssss];
            document.getElementById("audio_content2-4").innerHTML = '<strong># 4st sample MOS Test</strong><br><table><tr> <audio controls controlsList="nodownload"><source src="' + link4_1 + '" type="audio/mpeg"></audio> </td><form><input type="radio" name="original" value="1"> 1(worst)  &nbsp;&nbsp;&nbsp;<input type="radio" name="original" value="2"> 2 &nbsp;&nbsp;&nbsp; <input type="radio" name="original" value="3"> 3&nbsp;&nbsp;&nbsp;<input type="radio" name="original" value="4"> 4 &nbsp;&nbsp;&nbsp; <input type="radio" name="original" value="5"> 5(best)'
        </script>
        <script>
            document.getElementById("header2-5")
        </script>
        <div id="audio_content2-5"></div>
        <script>
            var data5 = [['speech2singing/melgan vocoder/sample1/melgan.wav'],
            ['speech2singing/melgan vocoder/sample2/melgan.wav'],
            ['speech2singing/melgan vocoder/sample3/melgan.wav'],
            ['speech2singing/melgan vocoder/sample4/melgan.wav'],
            ['speech2singing/melgan vocoder/sample5/melgan.wav']
            ];
            var sssss = myGetRandom(0, 4);
            var link5_1 = data5[sssss];
            document.getElementById("audio_content2-5").innerHTML = '<strong># 5st sample MOS Test</strong><br><table><tr> <audio controls controlsList="nodownload"><source src="' + link5_1 + '" type="audio/mpeg"></audio> </td><form><input type="radio" name="melgan" value="1"> 1(worst)  &nbsp;&nbsp;&nbsp;<input type="radio" name="melgan" value="2"> 2 &nbsp;&nbsp;&nbsp; <input type="radio" name="melgan" value="3"> 3&nbsp;&nbsp;&nbsp;<input type="radio" name="melgan" value="4"> 4 &nbsp;&nbsp;&nbsp; <input type="radio" name="melgan" value="5"> 5(best)'
        </script>
        
           


        <!-- submit button -->
        <p>
            <strong>
                Thank you for your participation. Please press the submit button. <br>
                After you press the button, this page will refresh!
            </strong>
        </p>
        <button type="submit" onclick="myGetItem()">Submit</button>
    </body>
</html>